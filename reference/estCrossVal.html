<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Jack-Knife cross validation of the WRTDS (Weighted Regressions on Time, Discharge, and Season) — estCrossVal • EGRET</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Jack-Knife cross validation of the WRTDS (Weighted Regressions on Time, Discharge, and Season) — estCrossVal" />
<meta property="og:description" content="This function fits the WRTDS model n times (where n is the number of observations).  
For each fit, the data value being estimated is eliminated from the record. 
This gives predictions that do not depend on knowing the actual result for that day. 
Thus it provides for a more &quot;honest&quot; estimate of model performance than a traditional 
error analysis that uses all the data." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53797708-7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-53797708-7');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EGRET</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.0.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/EGRET.html">Introduction</a>
</li>
<li>
  <a href="../reference/index.html">Function Help Pages</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Enhancements.html">Enhancements</a>
    </li>
    <li>
      <a href="../articles/Making WRTDS_K flux estimates.html">WRTDS-K</a>
    </li>
    <li>
      <a href="../articles/parallel.html">Running in Parallel</a>
    </li>
    <li>
      <a href="../articles/rResid.html">Random Residuals</a>
    </li>
    <li>
      <a href="../articles/SeasonalFraction.html">Seasonal Analysis</a>
    </li>
    <li>
      <a href="../articles/streamflow_trend.html">Daily Streamflow Trends</a>
    </li>
    <li>
      <a href="../articles/TrendsByMonth.html">Trends by month</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/References_WRTDS.html">Bibliograpy</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/USGS-R/EGRET">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Jack-Knife cross validation of the WRTDS (Weighted Regressions on Time, Discharge, and Season)</h1>
    <small class="dont-index">Source: <a href='https://github.com/USGS-R/EGRET/blob/master/R/estCrossVal.R'><code>R/estCrossVal.R</code></a></small>
    <div class="hidden name"><code>estCrossVal.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function fits the WRTDS model n times (where n is the number of observations).  
For each fit, the data value being estimated is eliminated from the record. 
This gives predictions that do not depend on knowing the actual result for that day. 
Thus it provides for a more "honest" estimate of model performance than a traditional 
error analysis that uses all the data.</p>
    </div>

    <pre class="usage"><span class='fu'>estCrossVal</span>(
  <span class='no'>DecLow</span>,
  <span class='no'>DecHigh</span>,
  <span class='no'>Sample</span>,
  <span class='kw'>windowY</span> <span class='kw'>=</span> <span class='fl'>7</span>,
  <span class='kw'>windowQ</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>windowS</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
  <span class='kw'>minNumObs</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>minNumUncen</span> <span class='kw'>=</span> <span class='fl'>50</span>,
  <span class='kw'>edgeAdjust</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>DecLow</th>
      <td><p>number specifying minimum decimal year</p></td>
    </tr>
    <tr>
      <th>DecHigh</th>
      <td><p>number specifying maximum decimal year</p></td>
    </tr>
    <tr>
      <th>Sample</th>
      <td><p>data frame containing the sample values, default is Sample</p></td>
    </tr>
    <tr>
      <th>windowY</th>
      <td><p>numeric specifying the half-window width in the time dimension, in units of years, default is 7</p></td>
    </tr>
    <tr>
      <th>windowQ</th>
      <td><p>numeric specifying the half-window width in the discharge dimension, units are natural log units, default is 2</p></td>
    </tr>
    <tr>
      <th>windowS</th>
      <td><p>numeric specifying the half-window with in the seasonal dimension, in units of years, default is 0.5</p></td>
    </tr>
    <tr>
      <th>minNumObs</th>
      <td><p>numeric specifying the miniumum number of observations required to run the weighted regression, default is 100</p></td>
    </tr>
    <tr>
      <th>minNumUncen</th>
      <td><p>numeric specifying the minimum number of uncensored observations to run the weighted regression, default is 50</p></td>
    </tr>
    <tr>
      <th>edgeAdjust</th>
      <td><p>logical specifying whether to use the modified method for calculating the windows at the edge of the record.  The modified method tends to reduce curvature near the start and end of record.  Default is TRUE.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical specifying whether or not to display progress message</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>SampleCrossV data frame containing the sample data augmented by the results of the cross-validation exercise</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>eList</span> <span class='kw'>&lt;-</span> <span class='no'>Choptank_eList</span>
<span class='no'>Sample</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='getSample.html'>getSample</a></span>(<span class='no'>eList</span>)
<span class='no'>Daily</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='getDaily.html'>getDaily</a></span>(<span class='no'>eList</span>)
<span class='no'>numDays</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span>(<span class='no'>Daily</span>$<span class='no'>DecYear</span>)
<span class='no'>DecLow</span> <span class='kw'>&lt;-</span> <span class='no'>Daily</span>$<span class='no'>DecYear</span>[<span class='fl'>1</span>]
<span class='no'>DecHigh</span> <span class='kw'>&lt;-</span> <span class='no'>Daily</span>$<span class='no'>DecYear</span>[<span class='no'>numDays</span>]
<span class='co'># \donttest{</span>
<span class='no'>SampleCrossV</span> <span class='kw'>&lt;-</span> <span class='fu'>estCrossVal</span>(<span class='no'>numDays</span>,<span class='no'>DecLow</span>,<span class='no'>DecHigh</span>,<span class='no'>Sample</span>)</div><div class='output co'>#&gt; <span class='error'>Error in rep(0, numObs): invalid 'times' argument</span></div><div class='input'># }
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Robert Hirsch, Laura DeCicco.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


